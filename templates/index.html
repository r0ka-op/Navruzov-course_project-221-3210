<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskTrek</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <header>
        <h1>TaskTrek</h1>
    </header>
    <nav>
        <a href="/profile">Личный кабинет</a>
        <a href="/settings">Настройки</a>
        <a href="/logout">Выход</a>
        <input type="search" placeholder="Search" style="padding: 5px;">
    </nav>
    <div class="container">
        <div class="tasks">
            <h2>Tasks</h2>
            {% for task in tasks %}
            <div class="row g-0 bg-body-secondary position-relative rounded">
                <div class="col-md-4 mb-md-0 p-md-4">
                    <img src="{{ url_for('static', filename='images/dokatilis.jpg') }}" class="rounded" style="max-width: 220px;" alt="task_image">
                </div>
                <div class="col-md-6 p-4 ps-md-0">
                    <h5 class="mt-0">{{ task.title }}</h5>
                    <p>{{ task.description }}</p>
                    <button type="button" class="get-info btn btn-info" data-bs-toggle="modal" data-bs-target="#viewRecordModal" data-record-id="{{ task.task_id }}" data-record-type="task">Подробнее</button>
                </div>
            </div>

            <br>
            {% endfor %}
        </div>
        <div class="sidebar">
            <div class="buttons" style="margin-left: 20px;">
                <div class="btn-group-vertical">
                    <button id="add-record-btn" class="btn btn-primary btn-add mb-2 rounded" data-bs-toggle="modal" data-bs-target="#addRecordModal">Добавить новую запись</button>
                    <button class="btn btn-info mb-2 rounded" id="btn-export">Экспортировать</button>
                    <button class="btn btn-dark mb-2 rounded" id="btn-import">Импортировать</button>
                </div>
            </div>
            <div class="events">
                <h2>Events</h2>
                {% for event in events %}
                <div class="event-item"><button type="button" class="btn btn-link get-info" data-bs-toggle="modal" data-bs-target="#viewRecordModal" data-record-id="{{ event.event_id }}" data-record-type="event">{{ event.title }}</button></div>
                {% endfor %}
            </div>
        </div>

        <!-- Модальное окно добавления -->
         {% include 'add_modal.html' %}



        <!-- Модальное окно для просмотра и редактирования записи -->
        {% include 'view_edit_modal.html' %}


    </div>
    <div class="description">
        <h2>Description</h2>
        <p>Lorem Ipsum - это текст-"рыба", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной "рыбой" для текстов на латинице с начала XVI века. В то время некий безымянный печатник создал большую коллекцию размеров и форм шрифтов, используя Lorem Ipsum для распечатки образцов. Lorem Ipsum не только успешно пережил без заметных изменений пять веков, но и перешагнул в электронный дизайн. Его популяризации в новое время послужили публикация листов Letraset с образцами Lorem Ipsum в 60-х годах и, в более недавнее время, программы электронной вёрстки типа Aldus PageMaker, в шаблонах которых используется Lorem Ipsum.</p>
    </div>


<!--    <footer class="bg-dark text-white text-center py-3">-->
<!--        <p>&copy; 2024 TaskTrek. Все права защищены.</p>-->
<!--    </footer>-->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
